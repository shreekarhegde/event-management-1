<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Event Management</title>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
	<link rel="stylesheet" href="register.css">
	
</head>
<body>
	<div class="container register">
		<div class="row">
			<div class="col-md-3 register-left">
				<img src="https://image.ibb.co/n7oTvU/logo_white.png" alt=""/>
				<h3>Welcome</h3>
				<p>Enroll to events and win exciting prices!</p>
			</div>
			<div class="col-md-9 register-right">
				<div class="tab-content" id="myTabContent">
					<div class="tab-pane fade show active" id="home" role="tabpanel" aria-labelledby="home-tab">
						<h3 class="register-heading">Register</h3>
						<form action="">
							<div class="row register-form">
								<div class="col-md-6">
									<div class="form-group">
										<input id="fName" type="text" class="form-control" placeholder="First Name *" />
									</div>
									<div class="form-group">
										<input id="lName"  type="text" class="form-control" placeholder="Last Name *" />
									</div>
									<div class="form-group">
										<input id="password" type="password" class="form-control" placeholder="Password *" />
									</div>
									<div class="form-group">
										<input id="cPassword" type="password" class="form-control"  placeholder="Confirm Password *" />
									</div>
									
								</div>
								<div class="col-md-6">
									<div class="form-group">
										<input id="email" type="email" class="form-control" placeholder="Your Email *" />
									</div>
									<div class="form-group">
										<input id="ph_num" type="text" name="txtEmpPhone" class="form-control" placeholder="Your Phone *" />
									</div>
									<div class="form-group">
										<div class="maxl">
											<label class="radio inline"> 
												<input id="gender" type="radio" name="gender" value="male" checked>
												<span> Male </span> 
											</label>
											<label class="radio inline"> 
												<input id="gender" type="radio" name="gender" value="female">
												<span>Female </span> 
											</label>
										</div>
									</div>
									<div class="form-group">
										<div class="maxl">
											<label class="radio inline"> 
												<input id="role" type="radio" name="role" value="admin" checked>
												<span> Admin </span> 
											</label>
											<label class="radio inline"> 
												<input id="role" type="radio" name="role" value="student">
												<span> Student </span> 
											</label>
										</div>
									</div>
									<button onclick="formSubmit()" class="btnRegister">Register</button>
								</div>
							</div>
						</form>
					</div>
				</div>
			</div>
		</div>

	</div>
	<script>
		function formSubmit(){
			let fname = document.getElementById('fName').value;
			let lname = document.getElementById('lName').value;
			let ph_num = document.getElementById('ph_num').value;
			let role = document.getElementById('role').value;			
			var http = new XMLHttpRequest();
			var url = 'http://localhost:3000/users';
			http.open('POST', url, true);

			//Send the proper header information along with the request
			http.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');

			http.onreadystatechange = function() {//Call a function when the state changes.
				if(http.readyState == 4 && http.status == 200) {
					alert(http.responseText);
				}
			}
			http.send(`first_name=${fname}&last_name=${lname}&ph_num=${ph_num}&role=${role}`);
		}
	</script>
</body>
</html>